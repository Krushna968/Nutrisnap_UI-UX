<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RDA Recommendations - NutriSnap</title>
    <link rel="stylesheet" href="css/style.css">
    <meta name="description" content="Personalize your daily nutrition targets based on age, gender, height, weight, and activity level.">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo"><img src="images/logo.jpg" alt="NutriSnap" style="height: 40px; margin-right: 0.5rem;">NutriSnap</a>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="food-identification.html" class="nav-link">Identify Food</a></li>
                <li><a href="nutrition-info.html" class="nav-link">Nutrition Info</a></li>
                <li><a href="bmi-calculator.html" class="nav-link">BMI Calculator</a></li>
                <li><a href="rda-calculator.html" class="nav-link active">RDA</a></li>
                <li><a href="diet-plans.html" class="nav-link">Diet Plans</a></li>
            </ul>
            <div class="nav-toggle"><span></span><span></span><span></span></div>
        </div>
    </nav>

    <main style="padding-top: 100px;">
        <div class="container">
            <div class="text-center mb-3">
                <h1 class="fade-in-up">Your RDA Recommendations</h1>
                <p class="fade-in-up" style="max-width: 650px; margin: 0 auto; color: var(--text-light);">Enter your details to see daily recommended intake for calories and macronutrients.</p>
            </div>

            <div class="grid grid-2">
                <div class="card fade-in-up">
                    <h2>Enter Your Details</h2>
                    <div class="form-group">
                        <label class="form-label">Age</label>
                        <input id="age" type="number" class="form-input" placeholder="e.g., 28" min="10" max="100">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Gender</label>
                        <select id="gender" class="form-select">
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Height (cm)</label>
                        <input id="height" type="number" class="form-input" placeholder="e.g., 175" min="120" max="230">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Weight (kg)</label>
                        <input id="weight" type="number" class="form-input" placeholder="e.g., 70" min="30" max="250">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Activity Level</label>
                        <select id="activity" class="form-select">
                            <option value="sedentary">Sedentary</option>
                            <option value="lightly-active">Lightly Active</option>
                            <option value="moderately-active">Moderately Active</option>
                            <option value="very-active">Very Active</option>
                            <option value="extra-active">Extra Active</option>
                        </select>
                    </div>
                    <button id="rdaBtn" class="btn btn-primary">Calculate RDA</button>
                </div>

                <div class="card fade-in-up">
                    <h2>Recommendations</h2>
                    <div id="rdaSummary" class="nutrition-card">Fill the form and click Calculate.</div>
                    <div id="rdaBars" style="margin-top:1rem;"></div>
                </div>
            </div>

            <div class="card fade-in-up" style="margin-top: 2rem;">
                <h2>Notes</h2>
                <p style="color: var(--text-light);">Based on common guidelines and Mifflin-St Jeor equation. Consult a professional for medical advice.</p>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="index.html" class="footer-link">Home</a>
                <a href="food-identification.html" class="footer-link">Food Analysis</a>
                <a href="bmi-calculator.html" class="footer-link">BMI Calculator</a>
                <a href="diet-plans.html" class="footer-link">Diet Plans</a>
            </div>
            <div style="border-top: 1px solid #444; padding-top: 2rem; margin-top: 2rem;">
                <p>&copy; 2024 NutriSnap. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/utils.js"></script>
    <script>
        const ageEl = document.getElementById('age');
        const genderEl = document.getElementById('gender');
        const heightEl = document.getElementById('height');
        const weightEl = document.getElementById('weight');
        const activityEl = document.getElementById('activity');
        const rdaBtn = document.getElementById('rdaBtn');
        const rdaSummary = document.getElementById('rdaSummary');
        const rdaBars = document.getElementById('rdaBars');

        rdaBtn.addEventListener('click', () => {
            const age = parseInt(ageEl.value, 10);
            const height = parseFloat(heightEl.value);
            const weight = parseFloat(weightEl.value);
            const gender = genderEl.value;
            const activity = activityEl.value;

            if (!age || !height || !weight) {
                NutriSnapUtils.showNotification('Please complete age, height, and weight', 'error');
                return;
            }

            const rda = NutriSnapUtils.calculateRDA(age, gender, weight, height, activity);
            rdaSummary.innerHTML = `<strong>Calories:</strong> ${rda.calories} kcal · <strong>Protein:</strong> ${rda.protein}g · <strong>Carbs:</strong> ${rda.carbs}g · <strong>Fat:</strong> ${rda.fat}g · <strong>Fiber:</strong> ${rda.fiber}g · <strong>Water:</strong> ${rda.water} ml`;

            rdaBars.innerHTML = '';
            NutriSnapUtils.createProgressBar(rdaBars, 'Calories', rda.calories, Math.max(3000, rda.calories), '#FF9800');
            NutriSnapUtils.createProgressBar(rdaBars, 'Protein', rda.protein, 200, '#2196F3');
            NutriSnapUtils.createProgressBar(rdaBars, 'Carbs', rda.carbs, 400, '#FF6B6B');
            NutriSnapUtils.createProgressBar(rdaBars, 'Fat', rda.fat, 150, '#4CAF50');
            NutriSnapUtils.createProgressBar(rdaBars, 'Fiber', rda.fiber, 50, '#9C27B0');
        });
    </script>
</body>
</html>
